\documentclass[10pt, a4paper]{article} % use larger type; default would be 10pt

\usepackage{fontspec} % Font selection for XeLaTeX; see fontspec.pdf for documentation
\defaultfontfeatures{Mapping=tex-text} % to support TeX conventions like ``---''
\usepackage{xunicode} % Unicode support for LaTeX character names (accents, European chars, etc)
\usepackage{xltxtra} % Extra customizations for XeLaTeX
\usepackage{tikz}
% \usepackage{coloremoji}
\usetikzlibrary{arrows,calc,patterns}


% other LaTeX packages.....
\usepackage{fullpage}
\usepackage[top=2cm, bottom=4.5cm, left=2.5cm, right=2.5cm]{geometry}
\usepackage{amsmath,amsthm,amsfonts,amssymb,amscd,systeme}
\usepackage{unicode-math}
\usepackage{cancel}
\geometry{a4paper} 
\usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent
\usepackage{fancyhdr}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{multicol}

\usepackage{xcolor}

% FONTS
% \setmainfont[Ligatures=TeX]{Cambria Math} % set the main body font (\textrm), assumes Charis SIL is installed
%\setsansfont{Deja Vu Sans}
% \setmonofont[Ligatures=TeX]{Fira Code}
\setmathfont[Ligatures=TeX]{NewCMMath-Regular}

\setmainfont{Cambria}
\setmonofont[Ligatures=TeX]{Roboto Mono}

\renewcommand\lstlistingname{Algorithm}
\renewcommand\lstlistlistingname{Algorithms}
\def\lstlistingautorefname{Alg.}
\lstdefinestyle{mystyle}{
    % backgroundcolor=\color{backcolour},   
    % commentstyle=\color{codegreen},
    % keywordstyle=\color{magenta},
    % numberstyle=\tiny\color{codegray},
    % stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
\lstset{style=mystyle}

\newcommand\course{MS1 - Differential geometry and topology}
\newcommand\hwnumber{Контрольна Робота 2}                   % <-- homework number
\newcommand\idgroup{111-2023}                
\newcommand\idname{Михайло Корешков}  

\usepackage[framemethod=TikZ]{mdframed}
\mdfsetup{%
	backgroundcolor = black!5,
}
\mdfdefinestyle{ans}{%
    backgroundcolor = green!5,
    linecolor = green!50,
    linewidth = 1pt,
}

\pagestyle{fancyplain}
\headheight 35pt
\lhead{\idgroup \\ \idname}
\chead{\textbf{\Large \hwnumber}}
\rhead{\course \\ \today}
\lfoot{}
\cfoot{}
\rfoot{\small\thepage}
\headsep 1.5em

\linespread{1.2}

\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\J}{J}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\cd}{CD}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\rank}{rank}

\renewcommand{\B}{\mathcal{B}}

\newtheorem*{definition}{Визначення}

\newcommand{\todo}[1]{\colorbox{red}{\textbf{TODO}: #1}}


\begin{document}

\subsection*{Ex 2.1.}
\begin{mdframed}
    $\gamma : (a;b) \to \R^n, \quad \gamma \in C^1$\\
    $\gamma'(t) \ne 0, \quad \left(\gamma(t), \gamma'(t)\right) = 0$

    Довести
    $\left|\gamma(t)\right| = \text{const}$
\end{mdframed}

Нехай $\gamma(t) = (\gamma_1(t), ..., \gamma_n(t))$.\\
Тоді
\begin{align*}
    \frac{d}{dt} \left|\gamma(t)\right| &= \frac{d}{dt} \sqrt{\left(\gamma(t), \gamma(t)\right)} = 
    \frac{1}{2\sqrt{\left(\gamma(t), \gamma(t)\right)}} \cdot \frac{d}{dt}\left(\gamma(t), \gamma(t)\right) = \\
    &= \frac{1}{2\sqrt{\left(\gamma(t), \gamma(t)\right)}} \cdot \left(\cancelto{0}{(\gamma'(t), \gamma(t))} + \cancelto{0}{(\gamma(t), \gamma'(t))}\right) = \\
    &= 0
\end{align*}


\section*{Ex 2.2}
\begin{mdframed}
    Нехай $\gamma : (a;b) \to \R^2, \quad \gamma C^2$ - пласка крива.\\
    Довести, що кривина $\gamma$ визначається як 
    \[k(t) = \frac{\begin{vmatrix}
        \dot x & \dot y \\ \ddot x & \ddot y
    \end{vmatrix}}{(\dot x^2 + \dot y^2)^{3/2}}\]
\end{mdframed}

AAAAAAAA

\section*{Ex 2.3}
\begin{mdframed}
    Обчислити кривини пласких кривих $\gamma: (a;b) \to \R^2$.\\
    Знайти точки та значення екстремумів кривини.
\end{mdframed}

\subsection*{Ex 2.3.1}
\[\gamma(t) = (t^2, t^3)\]

$\gamma'(t) = (2t, 3t^2)$\\
$\gamma''(t) = (2, 6t)$\\
$|[\gamma'(t), \gamma''(t)]| = 12t^2 - 6t^2 = 6t^2$\\
$|\gamma'(t)| = \sqrt{2t^2+9t^4}$

$k(t) = \frac{6t^2}{(2t^2+9t^4)^{3/2}} = 6t^2(2t^2+9t^4)^{-3/2}$

Шукаємо екстремуми

$k'(t) = \frac{12t(2t^2+9t^4)-9t^2(4t+36t^3)}{(2t^2+9t^4)^{3/2}} = 0$\\
$12t^3(1+18t^2) = 0$\\
$t=0$ або $1+18t^2=0$\\
$t\in \R$, отож лише $t=0$.\\
Але в цій точці похідна не визначена.

\begin{mdframed}[backgroundcolor=green!20]
    $k(t) = \frac{6t^2}{(2t^2+9t^4)^{3/2}}$

    Екстремумів немає

    Критична точка в $t=0, \gamma(0) = (0,0)$.
\end{mdframed}


\subsection*{Ex 2.3.2}
\[\gamma(t) = (\sin(t^2), \cos(t^2))\]

$\gamma(s) = (\sin(|s|), \cos(|s|))$\\
Це взагалі параметричне рівняння кола одиничного радіусу, 
що матиме кривину $k=1$ окрім точки $t=0$, але давайте доведемо.

Нехай $s>0$.
$\gamma'(s) = (\cos(s), -\sin(s))$\\
$\gamma''(s) = (-\sin(s), -\cos(s))$\\
$|[\gamma'(s), \gamma''(s)]| = |-\cos^2(s)-\sin^2(s)| = |-1| = 1$\\
$|\gamma'(s)| = \sqrt{\sin^2(s) + \cos^2(s)} = 1$\\
$|\gamma(s)|^{3} = 1$

$k(s) = \frac{1}{1} = 1$

Критична точка лише $k(0)$, в інших точках це константа. 

\begin{mdframed}[backgroundcolor=green!20]
    $k(t) = 1, \; t\ne 0$

    Екстремумів немає

    Критична точка в $t=0$
\end{mdframed}


\subsection*{Ex 2.3.3}
\[\gamma(t) = (2t, 3t-7)\]

$\gamma(t) = (2, 3) t + (0, -7)$. Маємо, що $gamma$ це пряма. Кривина 0. Доведемо це.

$\gamma'(t) = (2, 3)$\\
$\gamma''(t) = (0, 0)$\\
$|[\gamma'(t), \gamma''(t)]| = 0$\\
$|\gamma'(t)| = \sqrt{4+9} = \sqrt{13}$

$k(t) = \frac{0}{\sqrt{13}} = 0$,
$k'(t) = 0$\\

\begin{mdframed}[backgroundcolor=green!20]
    $k(t) = 0$\\
    Екстремумів немає
\end{mdframed}

\subsection*{Ex 2.3.4}
\[\gamma(t) = (at, a/t), \quad \gamma : (0;+\infty) \to \R^2, \quad a>0\]

Репараметризую $s=at$.
\[\gamma(s) = (s, a^2/s)\]

$\gamma'(s) = (1, -a^2/s^2)$\\
$\gamma''(s) = (0, 2a^2/s^3)$\\
$|[\gamma'(s), \gamma''(s)]| = 2a^2/s^3$\\
$|\gamma'(s)| = \sqrt{1+a^4/s^4}$

$k(s) = \frac{2a^2/s^3}{\sqrt{1+a^4/s^4}^3} = \frac{2a^2}{s^3(1+a^4/s^4)^{3/2}} = \frac{2a^2}{(s^2+a^4/s^2)^{3/2}}$

$k'(s) = \frac{12a^6-6a^2s^4(1+a^4/s^4)}{...} = \frac{6a^2(a^4-s^4)}{...} = 0$\\
Маємо лише $s=a$, бо $s \in \R, s>0$.
Цій точці відповідає $t=s/a=1$ та $\gamma(t=1) = \gamma(s=a) = (a,a)$.

Репараметризація лише заплутала, але най буде.

\begin{mdframed}[backgroundcolor=green!20]
    $k(t) = \frac{2a^2}{(at)^3(1+1/t^4)^{3/2}}$

    Екстремум в точці $t=1$, $\gamma(t)=(a,a)$
\end{mdframed}


\subsection*{Ex 2.3.5}
\[\gamma(t) = (t, \sinh(t))\]

$\gamma'(t) = (1, \cosh(t))$\\
$\gamma''(t) = (0, \sinh(t))$\\
$|[\gamma'(t), \gamma''(t)]| = \sinh(t)$\\
$|\gamma'(t)| = \sqrt{1+\cosh^2(t)}$

$k(t) = \frac{\sinh(t)}{(1 + \cosh^2(t))^{3/2}}$

$k'(t) = \frac{\cosh(t)(1+\cosh^2(t))-3\cosh(t)\sinh^2(t)}{(1+\cosh^2(t))^{5/2}} 
= \frac{\cosh(t)(1+\cosh^2(t)-3\sinh^2(t))}{(1+\cosh^2(t))^{5/2}}=$
$= \frac{2\cosh(t)(1-\sinh^2(t))}{(1+\cosh^2(t))^{5/2}} = 0$

$(1-\sinh^2(t)) = 0$\\
$\sinh(t) = \pm 1$\\
$t = \operatorname{arsinh}(1) = \ln(1+\sqrt{2})$\\
$t = \operatorname{arsinh}(-1) = -\ln(1+\sqrt{2})$\\

\begin{mdframed}[backgroundcolor=green!20]
    $k(t) = \frac{\sinh(t)}{(1 + \cosh^2(t))^{3/2}}$\\
    Екстремуми в $t = \pm\ln(1+\sqrt{2}) = \pm\operatorname{arsinh}(1)$
\end{mdframed}


\subsection*{Ex 2.3.6}
\[\gamma(t) = (t, \cosh(t))\]

$\gamma'(t) = (1, \sinh(t))$\\
$\gamma''(t) = (0, \cosh(t))$\\
$|[\gamma'(t), \gamma''(t)]| = \cosh(t)$\\
$|\gamma'(t)| = \sqrt{1+\sinh^2(t)} = \cosh(t)$

$k(t) = \frac{\cosh(t)}{\cosh^3(t)} = (\cosh(t))^{-2}$

$k'(t) = -2(\cosh(t))^{-3}\cdot \sinh(t) = 0$

$\cosh(t) \ne 0$, $\sinh(t) = 0 \implies t = 0$.

\begin{mdframed}[backgroundcolor=green!20]
    $k(t) = \frac{1}{\cosh^2(t)}$\\
    Екстремум в $t = 0, \gamma(0) = (0,1)$
\end{mdframed}


% ===========================================

\section*{Ex 1.4}
\begin{mdframed}
    $f : \R^2 \to \R, \quad f\in C^2$\\
    Нехай $c\in \R, A = f^{-1}(c)$ та $A$ не містить критичних точок.
    Тобто $\forall p\in A: \exists f'_x(p), f'_y(p) \land f'_x(p)f'_y(p) \ne 0$.

    Довести що 
    \begin{enumerate}
        \item A - одновимірний підмноговид в $\R^2$
        \item Кривина кривої A визначається як
        \[k(p) = \frac{f'^T \cdot Hf \cdot f'}{|f'|^3}\]
        де
        \[f' = \begin{pmatrix}
            f'_x \\ f'_y
        \end{pmatrix}, \quad Hf = \begin{pmatrix}
            f''_{xx} & f''_{xy}\\ f''_{yx} & f''_{yy}
        \end{pmatrix}\]
    \end{enumerate}
\end{mdframed}

\subsection*{Ex 1.4.1}
Прообраз регулярного значення функції буде підмноговидом.
Покажемо це в цьому випадку.

Нехай $c\in \R$ - регулярне значення $f$.
Тоді $f'_x, f'_y$ визначені та не дорівнюють нулю одночасно.

Зверну увагу, що $f'$ буде градієнтом і $\forall p \in A: (f', A) = 0$, 
бо градієнт перпендикулярний лініям рівню.

Розгляну достатньо малий відкритий окіл $U_p$ довільної точки $p \in A, f(p)=c$, 
такий що 
\[\forall q \in A \cap U_p: (f'(p), f'(q))\ne 0\]
(todo: довести що такий окіл існує. це очевидно, але все ж).
Також виберемо дотичний вектор $v$, що задовільняє умовам $|v|=1, (v,f')=0$. 
Він буде єдиний з точністю до напрямку (тобто заміни $v \vo -v$).

Введемо локальну карту $\phi_p : A \cap U_p \to \R$, де
\[\phi_p(q) = ()\]

Справедливо $A\cap U_p = g_p((-\delta,+\delta$ 

Тоді 



\end{document}

